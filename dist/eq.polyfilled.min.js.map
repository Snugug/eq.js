{"version":3,"sources":["eq.polyfilled.min.js"],"names":["Object","getPrototypeOf","object","TypeError","constructor","prototype","this","global","rafPrefix","requestAnimationFrame","callback","performance","now","cancelAnimationFrame","lastTime","Date","currentTime","delay","setTimeout","id","clearTimeout","Event","e","indexOf","array","element","index","length","unlistenableWindowEvents","click","dblclick","keyup","keypress","keydown","mousedown","mouseup","mousemove","mouseover","mouseenter","mouseleave","mouseout","storage","storagecommit","textinput","existingProto","window","Window","type","eventInitDict","Error","document","event","createEvent","bubbles","undefined","cancelable","initEvent","createEventObject","defineProperty","configurable","enumerable","writable","value","addEventListener","Document","Element","arguments","listener","_events","eventElement","list","events","slice","preventDefault","returnValue","stopPropagation","cancelBubble","stopImmediatePropagation","cancelImmediate","currentTarget","relatedTarget","fromElement","target","srcElement","timeStamp","getTime","clientX","pageX","documentElement","scrollLeft","pageY","clientY","scrollTop","call","attachEvent","push","removeEventListener","splice","detachEvent","dispatchEvent","cancelBubbleEvent","fireEvent","error","nodeType","parentWindow","parentNode","CustomEvent","toString","detail","initCustomEvent","readyState","getComputedStylePixel","property","fontSize","rootSize","currentStyle","match","size","suffix","test","parentElement","clientWidth","clientHeight","setShortStyleProperty","style","borderSuffix","t","r","b","l","join","CSSStyleDeclaration","unCamelCase","toLowerCase","Array","replace","offsetWidth","offsetHeight","Math","round","outlineColor","color","outlineStyle","outlineWidth","outline","getPropertyPriority","getPropertyValue","toUpperCase","item","removeProperty","setProperty","getPropertyCSSValue","getComputedStyle","forEach","Function","scope","arraylike","String","split","max","min","eqjs","EQjs","nodes","eqsLength","widths","points","addEvent","elem","fn","parseBefore","mergeNodes","a","concat","query","proto","nodesLength","i","rect","getBoundingClientRect","width","right","left","sortObj","getAttribute","e2","key","nodeWrites","j","k","eqResizeEvent","eqState","objWidth","obj","eqPts","eqStates","eqPtsLength","current","next","removeAttribute","setAttribute","refreshNodes","cssNodes","querySelectorAll","querySelector","v","arr","objSplit","sSplit","parseFloat","sort","definePts","node","JSON","stringify","substring","all","cb","hasCB","module","exports","define","amd"],"mappings":"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","file":"eq.polyfilled.min.js","sourcesContent":["/*! eq.js (with polyfills) v1.9.0 (c) 2013-2016 Sam Richard with thanks to the Financial Times, MIT license */\n(function () {if (!('getPrototypeOf' in Object\n)){Object.getPrototypeOf = function getPrototypeOf(object) {\n\tif (object !== Object(object)) {\n\t\tthrow new TypeError('Object.getPrototypeOf called on non-object');\n\t}\n\n\treturn object.constructor ? object.constructor.prototype : null;\n};\n}if (!('requestAnimationFrame' in this\n)){(function (global) {\n\tvar rafPrefix;\n\n\tif ('mozRequestAnimationFrame' in global) {\n\t\trafPrefix = 'moz';\n\n\t} else if ('webkitRequestAnimationFrame' in global) {\n\t\trafPrefix = 'webkit';\n\n\t}\n\n\tif (rafPrefix) {\n\t\tglobal.requestAnimationFrame = function (callback) {\n\t\t    return global[rafPrefix + 'RequestAnimationFrame'](function () {\n\t\t        callback(performance.now());\n\t\t    });\n\t\t};\n\t\tglobal.cancelAnimationFrame = global[rafPrefix + 'CancelAnimationFrame'];\n\t} else {\n\n\t\tvar lastTime = Date.now();\n\n\t\tglobal.requestAnimationFrame = function (callback) {\n\t\t\tif (typeof callback !== 'function') {\n\t\t\t\tthrow new TypeError(callback + 'is not a function');\n\t\t\t}\n\n\t\t\tvar\n\t\t\tcurrentTime = Date.now(),\n\t\t\tdelay = 16 + lastTime - currentTime;\n\n\t\t\tif (delay < 0) {\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tlastTime = currentTime;\n\n\t\t\treturn setTimeout(function () {\n\t\t\t\tlastTime = Date.now();\n\n\t\t\t\tcallback(performance.now());\n\t\t\t}, delay);\n\t\t};\n\n\t\tglobal.cancelAnimationFrame = function (id) {\n\t\t\tclearTimeout(id);\n\t\t};\n\t}\n}(this));\n}if (!((function(global) {\n\n\tif (!('Event' in global)) return false;\n\tif (typeof global.Event === 'function') return true;\n\n\ttry {\n\n\t\t// In IE 9-11, the Event object exists but cannot be instantiated\n\t\tnew Event('click');\n\t\treturn true;\n\t} catch(e) {\n\t\treturn false;\n\t}\n}(this))\n)){(function () {\n\tvar unlistenableWindowEvents = {\n\t\tclick: 1,\n\t\tdblclick: 1,\n\t\tkeyup: 1,\n\t\tkeypress: 1,\n\t\tkeydown: 1,\n\t\tmousedown: 1,\n\t\tmouseup: 1,\n\t\tmousemove: 1,\n\t\tmouseover: 1,\n\t\tmouseenter: 1,\n\t\tmouseleave: 1,\n\t\tmouseout: 1,\n\t\tstorage: 1,\n\t\tstoragecommit: 1,\n\t\ttextinput: 1\n\t};\n\n\tfunction indexOf(array, element) {\n\t\tvar\n\t\tindex = -1,\n\t\tlength = array.length;\n\n\t\twhile (++index < length) {\n\t\t\tif (index in array && array[index] === element) {\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\n\tvar existingProto = (window.Event && window.Event.prototype) || null;\n\twindow.Event = Window.prototype.Event = function Event(type, eventInitDict) {\n\t\tif (!type) {\n\t\t\tthrow new Error('Not enough arguments');\n\t\t}\n\n\t\t// Shortcut if browser supports createEvent\n\t\tif ('createEvent' in document) {\n\t\t\tvar event = document.createEvent('Event');\n\t\t\tvar bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;\n\t\t\tvar cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;\n\n\t\t\tevent.initEvent(type, bubbles, cancelable);\n\n\t\t\treturn event;\n\t\t}\n\n\t\tvar event = document.createEventObject();\n\n\t\tevent.type = type;\n\t\tevent.bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;\n\t\tevent.cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;\n\n\t\treturn event;\n\t};\n\tif (existingProto) {\n\t\tObject.defineProperty(window.Event, 'prototype', {\n\t\t\tconfigurable: false,\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t\tvalue: existingProto\n\t\t});\n\t}\n\n\tif (!('createEvent' in document)) {\n\t\twindow.addEventListener = Window.prototype.addEventListener = Document.prototype.addEventListener = Element.prototype.addEventListener = function addEventListener() {\n\t\t\tvar\n\t\t\telement = this,\n\t\t\ttype = arguments[0],\n\t\t\tlistener = arguments[1];\n\n\t\t\tif (element === window && type in unlistenableWindowEvents) {\n\t\t\t\tthrow new Error('In IE8 the event: ' + type + ' is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.');\n\t\t\t}\n\n\t\t\tif (!element._events) {\n\t\t\t\telement._events = {};\n\t\t\t}\n\n\t\t\tif (!element._events[type]) {\n\t\t\t\telement._events[type] = function (event) {\n\t\t\t\t\tvar\n\t\t\t\t\tlist = element._events[event.type].list,\n\t\t\t\t\tevents = list.slice(),\n\t\t\t\t\tindex = -1,\n\t\t\t\t\tlength = events.length,\n\t\t\t\t\teventElement;\n\n\t\t\t\t\tevent.preventDefault = function preventDefault() {\n\t\t\t\t\t\tif (event.cancelable !== false) {\n\t\t\t\t\t\t\tevent.returnValue = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tevent.stopPropagation = function stopPropagation() {\n\t\t\t\t\t\tevent.cancelBubble = true;\n\t\t\t\t\t};\n\n\t\t\t\t\tevent.stopImmediatePropagation = function stopImmediatePropagation() {\n\t\t\t\t\t\tevent.cancelBubble = true;\n\t\t\t\t\t\tevent.cancelImmediate = true;\n\t\t\t\t\t};\n\n\t\t\t\t\tevent.currentTarget = element;\n\t\t\t\t\tevent.relatedTarget = event.fromElement || null;\n\t\t\t\t\tevent.target = event.target || event.srcElement || element;\n\t\t\t\t\tevent.timeStamp = new Date().getTime();\n\n\t\t\t\t\tif (event.clientX) {\n\t\t\t\t\t\tevent.pageX = event.clientX + document.documentElement.scrollLeft;\n\t\t\t\t\t\tevent.pageY = event.clientY + document.documentElement.scrollTop;\n\t\t\t\t\t}\n\n\t\t\t\t\twhile (++index < length && !event.cancelImmediate) {\n\t\t\t\t\t\tif (index in events) {\n\t\t\t\t\t\t\teventElement = events[index];\n\n\t\t\t\t\t\t\tif (indexOf(list, eventElement) !== -1 && typeof eventElement === 'function') {\n\t\t\t\t\t\t\t\teventElement.call(element, event);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\telement._events[type].list = [];\n\n\t\t\t\tif (element.attachEvent) {\n\t\t\t\t\telement.attachEvent('on' + type, element._events[type]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telement._events[type].list.push(listener);\n\t\t};\n\n\t\twindow.removeEventListener = Window.prototype.removeEventListener = Document.prototype.removeEventListener = Element.prototype.removeEventListener = function removeEventListener() {\n\t\t\tvar\n\t\t\telement = this,\n\t\t\ttype = arguments[0],\n\t\t\tlistener = arguments[1],\n\t\t\tindex;\n\n\t\t\tif (element._events && element._events[type] && element._events[type].list) {\n\t\t\t\tindex = indexOf(element._events[type].list, listener);\n\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\telement._events[type].list.splice(index, 1);\n\n\t\t\t\t\tif (!element._events[type].list.length) {\n\t\t\t\t\t\tif (element.detachEvent) {\n\t\t\t\t\t\t\telement.detachEvent('on' + type, element._events[type]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete element._events[type];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\twindow.dispatchEvent = Window.prototype.dispatchEvent = Document.prototype.dispatchEvent = Element.prototype.dispatchEvent = function dispatchEvent(event) {\n\t\t\tif (!arguments.length) {\n\t\t\t\tthrow new Error('Not enough arguments');\n\t\t\t}\n\n\t\t\tif (!event || typeof event.type !== 'string') {\n\t\t\t\tthrow new Error('DOM Events Exception 0');\n\t\t\t}\n\n\t\t\tvar element = this, type = event.type;\n\n\t\t\ttry {\n\t\t\t\tif (!event.bubbles) {\n\t\t\t\t\tevent.cancelBubble = true;\n\n\t\t\t\t\tvar cancelBubbleEvent = function (event) {\n\t\t\t\t\t\tevent.cancelBubble = true;\n\n\t\t\t\t\t\t(element || window).detachEvent('on' + type, cancelBubbleEvent);\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.attachEvent('on' + type, cancelBubbleEvent);\n\t\t\t\t}\n\n\t\t\t\tthis.fireEvent('on' + type, event);\n\t\t\t} catch (error) {\n\t\t\t\tevent.target = element;\n\n\t\t\t\tdo {\n\t\t\t\t\tevent.currentTarget = element;\n\n\t\t\t\t\tif ('_events' in element && typeof element._events[type] === 'function') {\n\t\t\t\t\t\telement._events[type].call(element, event);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof element['on' + type] === 'function') {\n\t\t\t\t\t\telement['on' + type].call(element, event);\n\t\t\t\t\t}\n\n\t\t\t\t\telement = element.nodeType === 9 ? element.parentWindow : element.parentNode;\n\t\t\t\t} while (element && !event.cancelBubble);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\t}\n}());\n}if (!('CustomEvent' in this &&\n\n// In Safari, typeof CustomEvent == 'object' but it otherwise works fine\n(typeof this.CustomEvent === 'function' ||\n(this.CustomEvent.toString().indexOf('CustomEventConstructor')>-1))\n)){this.CustomEvent = function CustomEvent(type, eventInitDict) {\n\tif (!type) {\n\t\tthrow Error('TypeError: Failed to construct \"CustomEvent\": An event name must be provided.');\n\t}\n\n\tvar event;\n\teventInitDict = eventInitDict || {bubbles: false, cancelable: false, detail: null};\n\n\tif ('createEvent' in document) {\n\t\ttry {\n\t\t\tevent = document.createEvent('CustomEvent');\n\t\t\tevent.initCustomEvent(type, eventInitDict.bubbles, eventInitDict.cancelable, eventInitDict.detail);\n\t\t} catch (error) {\n\t\t\t// for browsers which don't support CustomEvent at all, we use a regular event instead\n\t\t\tevent = document.createEvent('Event');\n\t\t\tevent.initEvent(type, eventInitDict.bubbles, eventInitDict.cancelable);\n\t\t\tevent.detail = eventInitDict.detail;\n\t\t}\n\t} else {\n\n\t\t// IE8\n\t\tevent = new Event(type, eventInitDict);\n\t\tevent.detail = eventInitDict && eventInitDict.detail || null;\n\t}\n\treturn event;\n};\n\nCustomEvent.prototype = Event.prototype;\n}if (!('addEventListener' in this\n)){document.attachEvent('onreadystatechange', function() {\n\tif (document.readyState === 'complete') {\n\t\tdocument.dispatchEvent(new Event('DOMContentLoaded', {\n\t\t\tbubbles: true\n\t\t}));\n\t}\n});\n}if (!('getComputedStyle' in this\n)){(function (global) {\n\tfunction getComputedStylePixel(element, property, fontSize) {\n\t\tvar\n\t\t// Internet Explorer sometimes struggles to read currentStyle until the element's document is accessed.\n\t\tvalue = element.document && element.currentStyle[property].match(/([\\d\\.]+)(%|cm|em|in|mm|pc|pt|)/) || [0, 0, ''],\n\t\tsize = value[1],\n\t\tsuffix = value[2],\n\t\trootSize;\n\n\t\tfontSize = !fontSize ? fontSize : /%|em/.test(suffix) && element.parentElement ? getComputedStylePixel(element.parentElement, 'fontSize', null) : 16;\n\t\trootSize = property == 'fontSize' ? fontSize : /width/i.test(property) ? element.clientWidth : element.clientHeight;\n\n\t\treturn suffix == '%' ? size / 100 * rootSize :\n\t\t       suffix == 'cm' ? size * 0.3937 * 96 :\n\t\t       suffix == 'em' ? size * fontSize :\n\t\t       suffix == 'in' ? size * 96 :\n\t\t       suffix == 'mm' ? size * 0.3937 * 96 / 10 :\n\t\t       suffix == 'pc' ? size * 12 * 96 / 72 :\n\t\t       suffix == 'pt' ? size * 96 / 72 :\n\t\t       size;\n\t}\n\n\tfunction setShortStyleProperty(style, property) {\n\t\tvar\n\t\tborderSuffix = property == 'border' ? 'Width' : '',\n\t\tt = property + 'Top' + borderSuffix,\n\t\tr = property + 'Right' + borderSuffix,\n\t\tb = property + 'Bottom' + borderSuffix,\n\t\tl = property + 'Left' + borderSuffix;\n\n\t\tstyle[property] = (style[t] == style[r] && style[t] == style[b] && style[t] == style[l] ? [ style[t] ] :\n\t\t                   style[t] == style[b] && style[l] == style[r] ? [ style[t], style[r] ] :\n\t\t                   style[l] == style[r] ? [ style[t], style[r], style[b] ] :\n\t\t                   [ style[t], style[r], style[b], style[l] ]).join(' ');\n\t}\n\n\t// <CSSStyleDeclaration>\n\tfunction CSSStyleDeclaration(element) {\n\t\tvar\n\t\tstyle = this,\n\t\tcurrentStyle = element.currentStyle,\n\t\tfontSize = getComputedStylePixel(element, 'fontSize'),\n\t\tunCamelCase = function (match) {\n\t\t\treturn '-' + match.toLowerCase();\n\t\t},\n\t\tproperty;\n\n\t\tfor (property in currentStyle) {\n\t\t\tArray.prototype.push.call(style, property == 'styleFloat' ? 'float' : property.replace(/[A-Z]/, unCamelCase));\n\n\t\t\tif (property == 'width') {\n\t\t\t\tstyle[property] = element.offsetWidth + 'px';\n\t\t\t} else if (property == 'height') {\n\t\t\t\tstyle[property] = element.offsetHeight + 'px';\n\t\t\t} else if (property == 'styleFloat') {\n\t\t\t\tstyle.float = currentStyle[property];\n\t\t\t} else if (/margin.|padding.|border.+W/.test(property) && style[property] != 'auto') {\n\t\t\t\tstyle[property] = Math.round(getComputedStylePixel(element, property, fontSize)) + 'px';\n\t\t\t} else if (/^outline/.test(property)) {\n\t\t\t\t// errors on checking outline\n\t\t\t\ttry {\n\t\t\t\t\tstyle[property] = currentStyle[property];\n\t\t\t\t} catch (error) {\n\t\t\t\t\tstyle.outlineColor = currentStyle.color;\n\t\t\t\t\tstyle.outlineStyle = style.outlineStyle || 'none';\n\t\t\t\t\tstyle.outlineWidth = style.outlineWidth || '0px';\n\t\t\t\t\tstyle.outline = [style.outlineColor, style.outlineWidth, style.outlineStyle].join(' ');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstyle[property] = currentStyle[property];\n\t\t\t}\n\t\t}\n\n\t\tsetShortStyleProperty(style, 'margin');\n\t\tsetShortStyleProperty(style, 'padding');\n\t\tsetShortStyleProperty(style, 'border');\n\n\t\tstyle.fontSize = Math.round(fontSize) + 'px';\n\t}\n\n\tCSSStyleDeclaration.prototype = {\n\t\tconstructor: CSSStyleDeclaration,\n\t\t// <CSSStyleDeclaration>.getPropertyPriority\n\t\tgetPropertyPriority: function () {\n\t\t\tthrow new Error('NotSupportedError: DOM Exception 9');\n\t\t},\n\t\t// <CSSStyleDeclaration>.getPropertyValue\n\t\tgetPropertyValue: function (property) {\n\t\t\treturn this[property.replace(/-\\w/g, function (match) {\n\t\t\t\treturn match[1].toUpperCase();\n\t\t\t})];\n\t\t},\n\t\t// <CSSStyleDeclaration>.item\n\t\titem: function (index) {\n\t\t\treturn this[index];\n\t\t},\n\t\t// <CSSStyleDeclaration>.removeProperty\n\t\tremoveProperty: function () {\n\t\t\tthrow new Error('NoModificationAllowedError: DOM Exception 7');\n\t\t},\n\t\t// <CSSStyleDeclaration>.setProperty\n\t\tsetProperty: function () {\n\t\t\tthrow new Error('NoModificationAllowedError: DOM Exception 7');\n\t\t},\n\t\t// <CSSStyleDeclaration>.getPropertyCSSValue\n\t\tgetPropertyCSSValue: function () {\n\t\t\tthrow new Error('NotSupportedError: DOM Exception 9');\n\t\t}\n\t};\n\n\t// <Global>.getComputedStyle\n\tglobal.getComputedStyle = function getComputedStyle(element) {\n\t\treturn new CSSStyleDeclaration(element);\n\t};\n}(this));\n}if (!('forEach' in Array.prototype\n)){Array.prototype.forEach = function forEach(callback) {\n\tif (this === undefined || this === null) {\n\t\tthrow new TypeError(this + 'is not an object');\n\t}\n\n\tif (!(callback instanceof Function)) {\n\t\tthrow new TypeError(callback + ' is not a function');\n\t}\n\n\tvar\n\tobject = Object(this),\n\tscope = arguments[1],\n\tarraylike = object instanceof String ? object.split('') : object,\n\tlength = Math.max(Math.min(arraylike.length, 9007199254740991), 0) || 0,\n\tindex = -1;\n\n\twhile (++index < length) {\n\t\tif (index in arraylike) {\n\t\t\tcallback.call(scope, arraylike[index], index, object);\n\t\t}\n\t}\n};\n}}());/*\n * The global eqjs object that contains all eq.js functionality.\n *\n * eqjs.nodes - List of all nodes to act upon when eqjs.states is called\n * eqjs.nodesLength - Number of nodes in eqjs.nodes\n *\n * eqjs.refreshNodes - Call this function to refresh the list of nodes that eq.js should act on\n * eqjs.sortObj - Sorts a key: value object based on value\n * eqjs.query - Runs through all nodes and finds their widths and points\n * eqjs.nodeWrites - Runs through all nodes and writes their eq status\n */\n(function (eqjs) {\n  'use strict';\n\n  function EQjs() {\n    this.nodes = [];\n    this.eqsLength = 0;\n    this.widths = [];\n    this.points = [];\n    this.callback = undefined;\n  }\n\n  /*\n   * Add event (cross browser)\n   * From http://stackoverflow.com/a/10150042\n   */\n  function addEvent(elem, event, fn) {\n    if (elem.addEventListener) {\n      elem.addEventListener(event, fn, false);\n    } else {\n      elem.attachEvent('on' + event, function () {\n        // set the this pointer same as addEventListener when fn is called\n        return (fn.call(elem, window.event));\n      });\n    }\n  }\n\n  /*\n   * Parse Before\n   *\n   * Reads `:before` content and splits it at the comma\n   * From http://jsbin.com/ramiguzefiji/1/edit?html,css,js,output\n   */\n  function parseBefore(elem) {\n    return window.getComputedStyle(elem, ':before').getPropertyValue('content').slice(1, -1);\n  }\n\n  /*\n   * Merges two node lists together.\n   *\n   * From http://stackoverflow.com/questions/914783/javascript-nodelist/17262552#17262552\n   */\n  var mergeNodes = function(a, b) {\n    return [].slice.call(a).concat([].slice.call(b));\n  };\n\n  /*\n   * Query\n   *\n   * Reads nodes and finds the widths/points\n   *  nodes - optional, an array or NodeList of nodes to query\n   *  callback - Either boolean (`true`/`false`) to force a normal callback, or a function to use as a callback once query and nodeWrites have finished.\n   */\n  EQjs.prototype.query = function (nodes, callback) {\n    var proto = Object.getPrototypeOf(eqjs);\n    var length;\n\n    if (callback && typeof(callback) === 'function') {\n      proto.callback = callback;\n    }\n\n    if (nodes && typeof(nodes) !== 'number') {\n      length = nodes.length;\n    }\n    else {\n      nodes = proto.nodes;\n      length = proto.nodesLength;\n    }\n    var widths = [], points = [], i;\n\n    for (i = 0; i < length; i++) {\n      var rect = nodes[i].getBoundingClientRect();\n      var width = rect.width;\n      if (width === undefined) {\n          width = rect.right - rect.left;\n      }\n      widths.push(width);\n      try {\n        points.push(proto.sortObj(nodes[i].getAttribute('data-eq-pts')));\n      }\n      catch (e) {\n        try {\n          points.push(proto.sortObj(parseBefore(nodes[i])));\n        }\n        catch (e2) {\n          points.push([{\n            key: '',\n            value: 0\n          }]);\n        }\n      }\n    }\n\n    proto.widths = widths;\n    proto.points = points;\n\n    if (nodes && typeof(nodes) !== 'number') {\n      proto.nodeWrites(nodes, widths, points);\n    }\n    else if (callback && typeof(callback) !== 'function') {\n      proto.nodeWrites();\n    }\n    else {\n      window.requestAnimationFrame(proto.nodeWrites);\n    }\n  };\n\n  /*\n   * NodeWrites\n   *\n   * Writes the data attribute to the object\n   *  nodes - optional, an array or NodeList of nodes to query\n   *  widths - optional, widths of nodes to use. Only used if `nodes` is passed in\n   *  points - optional, points of nodes to use. Only used if `nodes` is passed in\n   */\n  EQjs.prototype.nodeWrites = function (nodes) {\n    var i,\n        j,\n        k,\n        length,\n        callback,\n        eqResizeEvent,\n        eqState,\n        proto = Object.getPrototypeOf(eqjs),\n        widths = proto.widths,\n        points = proto.points;\n\n    if (nodes && typeof(nodes) !== 'number') {\n      length = nodes.length;\n    }\n    else {\n      nodes = proto.nodes;\n      length = proto.nodesLength;\n    }\n\n    for (i = 0; i < length; i++) {\n      // Set object width to found width\n      var objWidth = widths[i];\n      var obj = nodes[i];\n      var eqPts = points[i];\n      var eqStates = [];\n\n      // Get keys for states\n      var eqPtsLength = eqPts.length;\n\n      // Be greedy for smallest state\n      if (objWidth < eqPts[0].value) {\n        eqState = null;\n      }\n      // Be greedy for largest state\n      else if (objWidth >= eqPts[eqPtsLength - 1].value) {\n        for (k = 0; k < eqPtsLength; k++) {\n          eqStates.push(eqPts[k].key);\n        }\n        eqState = eqStates.join(' ');\n      }\n      // Traverse the states if not found\n      else {\n        for (j = 0; j < eqPtsLength; j++) {\n          var current = eqPts[j];\n          var next = eqPts[j + 1];\n          eqStates.push(current.key);\n\n          if (j === 0 && objWidth < current.value) {\n            eqState = null;\n            break;\n          }\n          else if (next !== undefined && next.value === undefined) {\n            eqStates.push(next.key);\n            eqState = eqStates.join(' ');\n            break;\n          }\n          else if (objWidth >= current.value && objWidth < next.value) {\n            eqState = eqStates.join(' ');\n            break;\n          }\n        }\n      }\n\n      // Determine what to set the attribute to\n      if (eqState === null) {\n        obj.removeAttribute('data-eq-state');\n      }\n      else {\n        obj.setAttribute('data-eq-state', eqState);\n      }\n      // Set the details of `eqResize`\n      eqResizeEvent = new CustomEvent('eqResize', {'detail': eqState, 'bubbles': true});\n\n      // Fire resize event\n      obj.dispatchEvent(eqResizeEvent);\n    }\n\n    // Run Callback\n    if (proto.callback) {\n      callback = proto.callback;\n      proto.callback = undefined;\n      callback(nodes);\n    }\n  };\n\n  /*\n   * Refresh Nodes\n   * Refreshes the list of nodes for eqjs to work with\n   */\n  EQjs.prototype.refreshNodes = function () {\n    var proto = Object.getPrototypeOf(eqjs),\n        cssNodes = [];\n\n    proto.nodes = document.querySelectorAll('[data-eq-pts]');\n\n    cssNodes = parseBefore(document.querySelector('html')).split(', ');\n    cssNodes.forEach(function (v) {\n      if (v !== '') {\n        proto.nodes = mergeNodes(proto.nodes, document.querySelectorAll(v));\n      }\n    });\n\n\n    proto.nodesLength = proto.nodes.length;\n  };\n\n  /*\n   * Sort Object\n   * Sorts a simple object (key: value) by value and returns a sorted object\n   */\n  EQjs.prototype.sortObj = function (obj) {\n    var arr = [];\n\n    var objSplit = obj.split(',');\n\n    for (var i = 0; i < objSplit.length; i++) {\n      var sSplit = objSplit[i].split(':');\n      arr.push({\n        'key': sSplit[0].replace(/^\\s+|\\s+$/g, ''),\n        'value': parseFloat(sSplit[1])\n      });\n    }\n\n    return arr.sort(function (a, b) { return a.value - b.value; });\n  };\n\n  /**\n    * JavaScript constructor\n    * Adds `data-eq-pts` attribute as constructor for JavaScript\n    */\n  EQjs.prototype.definePts = function (node, points) {\n    points = points ? points : {};\n\n    points = JSON.stringify(points);\n    points = points.substring(1, points.length - 1);\n    points = points.replace(/:/g, ': ');\n    points = points.replace(/,/g, ', ');\n    points = points.replace(/\"/g, '');\n\n    node.setAttribute('data-eq-pts', points);\n\n    return points;\n  };\n\n  /**\n    * Query All Nodes\n    * Runs refreshNodes and Query\n  **/\n  EQjs.prototype.all = function (cb) {\n    var proto = Object.getPrototypeOf(eqjs);\n    var hasCB = cb ? true : false;\n\n    proto.refreshNodes();\n\n    if (!hasCB) {\n      window.requestAnimationFrame(proto.query);\n    }\n    else {\n      proto.query(undefined, cb);\n    }\n  }\n\n  /*\n   * We only ever want there to be\n   * one instance of EQjs in an app\n   */\n  eqjs = eqjs || new EQjs();\n\n  /*\n   * Document Loaded\n   *\n   * Fires on document load; for HTML based EQs\n   */\n  addEvent(window, 'DOMContentLoaded', function () {\n    eqjs.all(false);\n  });\n\n  /*\n   * Window Loaded\n   */\n  addEvent(window, 'load', function () {\n    eqjs.all(true);\n  });\n\n  /*\n   * Window Resize\n   *\n   * Loop over each `eq-pts` element and pass to eqState\n   */\n  addEvent(window, 'resize', function () {\n    eqjs.all(true);\n  });\n\n  // Expose 'eqjs'\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = eqjs;\n  } else if (typeof define === 'function' && define.amd) {\n    define('eqjs', function () {\n      return eqjs;\n    });\n  } else {\n    window.eqjs = eqjs;\n  }\n})(window.eqjs);\n"],"sourceRoot":"/source/"}