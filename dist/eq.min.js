/*! eq.js 1.4.1 (c) 2014 Sam Richard, MIT license */
!function(a,b){"use strict";function c(){this.nodes=[],this.eqsLength=0,this.widths=[],this.points=[],this.callback=void 0}function d(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,function(){return c.call(a,window.event)})}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="".__proto__===String.prototype?function(a){return a.__proto__}:function(a){return a.constructor.prototype});for(var e=0,f=["webkit","moz"],g=0;g<f.length&&!window.requestAnimationFrame;++g)window.requestAnimationFrame=window[f[g]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[f[g]+"CancelAnimationFrame"]||window[f[g]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,b){b=b;var c=(new Date).getTime(),d=Math.max(0,16-(c-e)),f=window.setTimeout(function(){a(c+d)},d);return e=c+d,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),c.prototype.query=function(b,c){var d,e=Object.getPrototypeOf(a);c&&"function"==typeof c&&(e.callback=c),b&&"number"!=typeof b?d=b.length:(b=e.nodes,d=e.nodesLength);var f,g=[],h=[];for(f=0;d>f;f++){g.push(b[f].offsetWidth);try{h.push(e.sortObj(b[f].getAttribute("data-eq-pts")))}catch(i){h.push({})}}e.widths=g,e.points=h,b&&"number"!=typeof b?e.nodeWrites(b,g,h):c&&"function"!=typeof c?e.nodeWrites():window.requestAnimationFrame(e.nodeWrites)},c.prototype.nodeWrites=function(b){var c,d,e,f=Object.getPrototypeOf(a),g=f.widths,h=f.points;for(b&&"number"!=typeof b?d=b.length:(b=f.nodes,d=f.nodesLength),c=0;d>c;c++){var i=g[c],j=b[c],k=h[c],l=k.length;if(i<k[0].value)j.removeAttribute("data-eq-state");else if(i>=k[l-1].value)j.setAttribute("data-eq-state",k[l-1].key);else for(var m=0;l>m;m++){var n=k[m],o=k[m+1];if(0===m&&i<n.value){j.removeAttribute("data-eq-state");break}if(void 0===o.value){j.setAttribute("data-eq-state",o.key);break}if(i>=n.value&&i<o.value){j.setAttribute("data-eq-state",n.key);break}}}f.callback&&(e=f.callback,f.callback=void 0,e(b))},c.prototype.refreshNodes=function(){var b=Object.getPrototypeOf(a);b.nodes=document.querySelectorAll("[data-eq-pts]"),b.nodesLength=b.nodes.length},c.prototype.sortObj=function(a){for(var b=[],c=a.split(","),d=0;d<c.length;d++){var e=c[d].split(":");b.push({key:e[0].replace(/^\s+|\s+$/g,""),value:parseFloat(e[1])})}return b.sort(function(a,b){return a.value-b.value})},a=a||new c,b?b(function(){a.refreshNodes(),a.query(void 0,!0)}):d(window,"DOMContentLoaded",function(){a.refreshNodes(),a.query(void 0,!0)}),d(window,"resize",function(){a.refreshNodes(),window.requestAnimationFrame(a.query)}),"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):window.eqjs=a}(window.eqjs,window.domready);